<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>progress-bar</title>
	<link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>
	<script type="text/javascript" src="//cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
	<div class="container-fluid">
		<div class="row" style="margin-bottom: 3px;">			
			<div class="progress" style="display: none;height: 3px;margin-bottom: 0px">
				<div class="progress-bar progress-bar-success progress-bar-striped active" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;" >
				</div>
			</div>
		</div>
		<div class="row">
			<button id="btn" class="btn btn-default">点击</button>
		</div>
	</div>
	<script type="text/javascript">
		function showProgress(){
			//显示进度条
			$(".progress").attr("style","display: block;height: 3px;margin-bottom: 0px");
			//消除父级div的margin-bottom
			$(".progress").parent().removeAttr("style");
			//定时器
			var timeId = window.setInterval(function(){
				var valuenow = parseInt($(".progress-bar").attr("aria-valuenow")) + 20;
				var valuemax = parseInt($(".progress-bar").attr("aria-valuemax"));
				$(".progress-bar").attr("aria-valuenow",valuenow);
				var value = valuenow/valuemax*100;
				$(".progress-bar").attr("style","width:" + value + "%");
				if(value >= 100)
				{
					window.clearInterval(timeId);
					window.setTimeout("hideProgress()",500);
				}
			},200);
		}
		function hideProgress(){
			//隐藏进度条
			$(".progress").attr("style","display: none;height: 3px;margin-bottom: 0px");
			//补充父级div的margin-bottom
			$(".progress").parent().attr("style","margin-bottom: 3px;");
			//进度条重新赋值
			$(".progress-bar").attr("aria-valuenow","0");
			$(".progress-bar").attr("style","width: 0%;");
		}
		$("#btn").on("click",function(){
			showProgress();
		});

	</script>
</body>
</html>